@import 'tailwindcss';
@import 'tw-animate-css';


@custom-variant light (&:where([data-theme=light], [data-theme=light] *));

/* ===============================
   Palette (Raw base colors) - NEVER USE THESE DIRECTLY
   =============================== */
@theme static {
  /* Neutrals */
  --gray-50: #ffffff;
  --gray-80: #6b6b6b;
  --gray-100: #fafafa;
  --gray-400: #a1a1a1;
  --gray-600: #525252;
  --gray-700: #404040;
  --gray-800: #262626;
  --gray-900: #171717;
  --gray-950: #0a0a0a;

  --bg-dark: #1D1D1D;
  --bg-component-dark: #191919;

  /* Brand & Accent */
  --brand-primary: #fcb300;
  --brand-secondary: #777677;
  --accent-pink: #db2780;
  --accent-pink-light: #ff9eee;
  --accent-green: #6eedd8;

  /* Special */
  --pink-transparent-10: #db27801a; /* 10% opacity pink */
  --blue-selection: #003366;

  /* UI Grays */
  --ui-gray-30: #aeaeae;
  --ui-gray-50: #777677;
  --ui-gray-70: #464646;
  --ui-gray-80: #323232;
  --ui-gray-cg-30: #aeb8b8;

  /* Static UI roles */
  --role-tag-static: #dee1e6;
  --role-mission-static: #dee1e6;
  --role-copyright-static: #9095a1;
}


/* ===============================
   Roles (Dark = default)
   =============================== */
@theme static {
  /* --- NEW SEMANTIC TOKENS (PHASE 1) --- */
  /* Use these for all new development */
  --background: var(--bg-dark); /* --color-background */

  /* NEW: Semantic Text Tokens */
  --foreground: var(--gray-50);        /* High emphasis (Titles, important text) */
  --foreground-muted: var(--gray-400); /* Medium emphasis (Body text, descriptions) */
  --foreground-more-muted: var(--gray-600); /* Low emphasis (Placeholders, disabled text) */
  
  --popover: #1A1A1A; /* Your dark theme value */
  --popover-foreground: #000203; /* Text color on popover */

  --card: var(--bg-component-dark); /* --color-component-bg */
  --card-foreground: var(--gray-400);
  --card-foreground-muted: var(--gray-600);
  --card-foreground-more-muted: var(--gray-800);
  --primary: var(--brand-primary);
  --primary-foreground: #000000;  

  --accent: var(--accent-green);
  --accent-foreground: #000000;
  --accent-hover: #282828; 
  --destructive: var(--accent-pink);
  --destructive-foreground: #ffffff;
  --border: var(--ui-gray-80);
  --ring: var(--brand-primary);
  --input: var(--ui-gray-80);

  /* --- LEGACY TOKENS (DO NOT USE FOR NEW CODE) --- */
  /* These are now aliases for the new tokens or old values. */
  --color-neutral-400: var(--foreground-muted);
  --color-neutral-600: var(--foreground-more-muted);
  
  --color-background: var(--background);
  --color-component-bg: var(--card);
  --color-primary: var(--primary);
  --color-secondary: var(--brand-secondary);
  --color-supportive: var(--accent);
  --color-against: var(--accent-pink-light);
  --color-footer: var(--bg-component-dark);
  --color-tag: var(--role-tag-static);
  --color-mission-title: var(--role-mission-static);
  --color-btn-hover: var(--accent-hover);
  --color-tab-hover: var(--accent-hover);
  --color-web-bg: var(--gray-950);
  --color-copyright: var(--role-copyright-static);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-error: var(--destructive);

  /* Table roles (dark default) - These are already semantic! */
  --table-bg: var(--bg-dark);
  --table-border: #444444;
  --table-header-bg: #2d2d2d;
  --table-header-fg: #f0f0f0;
  --table-row-bg: #1a1a1a;
  --table-row-alt-bg: #222222;
  --table-row-hover-bg: #222222;
  --table-cell-fg: #e0e0e0;
  --table-selection-bg: var(--blue-selection);
}

/* ===============================
   Light Theme Overrides
   =============================== */
[data-theme="light"] {
  /* --- NEW SEMANTIC TOKENS (PHASE 1) --- */
  --background: var(--gray-50);

  --card: var(--gray-100);
  --card-foreground: var(--gray-800);
  --card-foreground-muted: var(--gray-600);
  --card-foreground-more-muted: var(--gray-400);
  --border: var(--table-light-border);
  --input: #e0e0e0;
  --accent-hover: #e5e5e5;
  --popover: var(--gray-50); 
  --popover-foreground: #000203; 

  

  /* NEW: Semantic Text Tokens for Light Mode */
  --foreground: var(--gray-800);       /* High emphasis becomes dark */
  --foreground-muted: var(--gray-600); /* Muted becomes a darker gray */
  --foreground-more-muted: var(--gray-400); /* Low emphasis becomes a lighter gray */




  /* --- LEGACY TOKENS (DO NOT USE FOR NEW CODE) --- */
  --color-background: var(--background);
  --color-component-bg: var(--card);
  --color-custom-white: var(--gray-800); /* Text becomes dark in light mode */
  --color-neutral-900: var(--gray-50); /* Background becomes white in light mode */

  --color-neutral-400: var(--foreground-more-muted); /* Note the flip! */
  --color-neutral-600: var(--foreground-muted);

  --color-footer: var(--gray-900);
  --color-btn-hover: var(--accent-hover); 
  --color-tab-hover: var(--accent-hover);

  /* Table roles (light overrides) */
  --table-bg: var(--gray-50);
  --table-border: var(--table-light-border);
  --table-header-bg: var(--gray-100);
  --table-header-fg: #333333;
  --table-row-bg: var(--gray-50);
  --table-row-alt-bg: var(--gray-100);
  --table-row-hover-bg: var(--table-light-hover);
  --table-cell-fg: #333333;
  --table-selection-bg: var(--table-light-selection);
}

/* ===============================
   Layout Breakpoints + Containers
   =============================== */
@theme static {
  --breakpoint-desktop: 1177px;
  --breakpoint-tablet: 900px;
  --breakpoint-mobile: 500px;
  --breakpoint-sm-mobile: 380px;

  --container-desktop: 1177px;
  --container-tablet: 900px;
  --container-mobile: 500px;
  --container-sm-mobile: 380px;
}

/* ===============================
   Legacy Aliases (for backwards compat) - AVOID USING
   =============================== */
@theme static {
  --color-custom-white: var(--foreground); /* Now maps to semantic foreground */
  --color-neutral-900: var(--background); /* Now maps to semantic background */
  --color-neutral-80: var(--gray-80);
  --color-neutral-400: var(--gray-400);
  --color-neutral-500: var(--gray-500);
  --color-neutral-600: var(--gray-600);
  --color-neutral-700: var(--gray-700);
  --color-neutral-800: var(--gray-800);
}


/* ===============================
   Base HTML + Utilities
   =============================== */
html {
  background-color: var(--background); /* Uses new semantic token */
  color: var(--foreground-muted); /* Uses new semantic token */
  scrollbar-width: none;
  -ms-overflow-style: none;
}

-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  overflow-x: scroll;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

button, a {
  @apply cursor-pointer;
}

:root {
  --header-height: 88px;
}

@media (max-width: 500px) {
  :root {
    --header-height: 54px;
  }
}

/* ===============================
   Table (ProseMirror / Tiptap) - PERFECT EXAMPLE!
   =============================== */
.tiptap-table {
  border-collapse: collapse;
  width: 100%;
  margin: 1rem 0;
  overflow: hidden;
  box-shadow: 0 0 0 1px var(--table-border);
}

.tiptap-table-header {
  background-color: var(--table-header-bg) !important;
  color: var(--table-header-fg) !important;
  font-weight: 600;
  text-align: left;
  border: 1px solid var(--table-border) !important;
  padding: 10px 12px;
}

.tiptap-table-cell {
  background-color: var(--table-row-bg) !important;
  color: var(--table-cell-fg) !important;
  border: 1px solid var(--table-border) !important;
  padding: 8px 12px;
  vertical-align: top;
}

.tiptap-table-row:nth-child(even) .tiptap-table-cell {
  background-color: var(--table-row-alt-bg) !important;
}

.tiptap-table .selectedCell {
  background-color: var(--table-selection-bg) !important;
}

.tiptap-table-row:hover .tiptap-table-cell {
  background-color: var(--table-row-hover-bg) !important;
}

/* ===============================
   Misc Components
   =============================== */
.sidemenu-link {
  @apply flex flex-row items-center gap-1 px-1 py-2 rounded-md font-bold text-sm;

  &:hover {
    background-color: var(--accent-hover); /* Use the new semantic token */
  }
}

.med-16 {
  @apply font-medium text-base/[24px] align-middle tracking-[0.5px];
}

.feed-content h2 {
  @apply text-base font-bold  mb-2 mt-4;
  color: var(--foreground);
}

.rule-with-text {
  display: flex;
  align-items: center;
  text-align: center;
  color: var(--ui-gray-30);
  font-size: 14px;
}

.rule-with-text::before,
.rule-with-text::after {
  content: '';
  flex: 1;
  border-top: 1px solid var(--ui-gray-80);
  margin: 0 1rem;
}

/* ===============================
   Scrollbar / Editor / Toast
   =============================== */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.ProseMirror ul {
  list-style-type: disc;
  padding-left: 1.5rem;
}
.ProseMirror ol {
  list-style-type: decimal;
  padding-left: 1.5rem;
}

/* toast-overrides.css */
.custom-toast-wrapper {
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
}
.custom-toast-body {
  padding: 0 !important;
}



@layer utilities {
  .text-foreground {
    @apply text-[var(--foreground)];
  }

  .text-foreground-muted {
    @apply text-[var(--foreground-muted)];
  }

  .text-foreground-more-muted {
    @apply text-[var(--foreground-more-muted)];
  }

  .bg-popover {
    @apply bg-[var(--popover)];
  }


  .text-popover-foreground {
    @apply text-[var(--popover-foreground)];
  }

  .bg-card {
    @apply bg-[var(--card)];
  }

  .bg-card-foreground {
    @apply bg-[var(--card-foreground)];
  }

  .bg-card-foreground-muted {
    @apply bg-[var(--card-foreground-muted)];
  }

  .bg-card-foreground-more-muted {
    @apply bg-[var(--card-foreground-more-muted)];
  }
}
